# Crawl to the Dungeon 

Crawl into the Dungeon is an interactive dungeon defined with a linked data environment and hosted by a linked data platform (Apache Jena Fuseki)
It uses the LinkedDataFuSpider artifact to make CRUD requests and fetch resources over a custom dungeon environment like rooms, doors and items.

To have a good understanding on what the Crawl into the Dungeon project is about, read the PDF presentation file located on the root project.


## Getting started

Prequesite : 
JVM 8 or more.
Gradle
				
### Install the Linked-Data Platform

Before starting with the main project, we need to setup our Linked-Data environment. First download [Apache Jena Fuseki](https://jena.apache.org/download/index.cgi), a platform provides REST-style interaction with our RDF data modeling our dungeon, it doesn't need to be located in the main project's repository.

Follow the Apache Jena Fuseki's instructions to run it as a standalone server. You can simply run the executable jar in or use the command-line interface. We will use the default configuration that will run the server on http://localhost:3030/.
Run the server and try to open on your web browser http://localhost:3030/ to check that it is currently running.

Now the server is on, but we need to add our dataset named `atacDungeon`. In the Web Server GUI interface, go to "manage datasets", then "add new datasets", type `atacDungeon` and mark "Persistant (TBD2)", then "create Dataset".

You now have an empty dataset that you need to fill. Hopefully, there is a gradle task that will automatically upload all the RDF graphs into our Linked-Data platform. Clone this main project if not done yet, and run the gradle command `gradle runLoadGraph`, it will automatically add all the triples from the ttl files in /graph/.

To make sure everything works, http://localhost:3030/atacDungeon?graph=room1 to see if the server returns the data of our first room of the dungeon.

In case that didn't work, you can also add the dataset manually with the TTL file reprensenting our dungeon in `/graph` (by ensuring adding every triples of a ttl file goes into a named graph of the same name) using the Apache Jena Fuseki UI interface, 

### Install Hypermedea

Hypermedea is a software extension using Cartago technology for MAS systems that contains the LinkedDataFuSpider artifact our agent from our JaCaMo framework can use for hypermedea appliances.

To generate a release from source, clone the source code of the project [hypermedia-JaCaMo](https://gitlab.emse.fr/noe.saffaf/hypermedia-jacamo/) named Hypermedea, and run `gradle publishToMavenLocal` in the root directory. Make sure the project is being properly published to maven local by looking at your local maven repository (Refer to maven documentation if necessary).

You can also have a look at how the LinkedDataFuSpider extension works at `examples/ldfu-spider/` in the hypermedea project.

### Install Crawl Into the Dungeon

Finally, in the main project, run `gradle runDungeon` to run the project. You should see a GUI interface appears. If not, make sure that the dependency org.hypermedea is being properly installed.


## How to navigate into the dungeon

Running the runDungeon task will launch a JaCaMo application with an "adventurer" agent. JaCaMo will open the MAS console interface where you can see all the running jacamo agent. If you don't much about JaCaMo, I suggest you to read the documentation [here](http://jacamo.sourceforge.net/).
In the UI interface, you can check the current beliefs and intentions an agent has by clicking on `debug` and on the name of the agent. You may see beliefs representing triples like `rdf(_, _, _)` or even derivated properties generated by the LinkedDataFuSpider extension such as `room(room1)`.

Initially, the agent wait action from a source, and the project also has a solution controller agent that communicate withe the adventurer agent and tells him what action he should do in succession. But you also give instruction yourself by first commenting in the jcm file (root repository) the line `agent sol_controller_agent` and instead, after running the app, in the UI interface, go to `New REPL Agent`, give him any name, and in the new console displayed, write an action line like the following:

- `.send(dungeon_adventurer,achieve,investigate)` for investigating a room for items
- `.send(dungeon_adventurer,achieve,take(silverKey))` for taking an item (here the silverKey)
- `.send(dungeon_adventurer,achieve,look_doors)` for looking for all the door disponible in the current room
- `.send(dungeon_adventurer,achieve,move(door1_2))` for moving to a new room through the specified door


## Acknowledgment
Thanks to Victor Charpenay for developing along myself the LinkedDataFuSpider artifact.

## Contact
No√© SAFFAF (said.1997@hotmail.fr)
