
# Crawl to the Dungeon 

Crawl to the Dungeon is an interactive dungeon defined with a linked data environment and hosted by a linked data platform (Apache Jena Fuseki)
It uses the LinkedDataFuSpider artifact to make CRUD requests and fetch resources over a custom dungeon environment like rooms, doors, and items,

To have a good understanding on what the Crawl into the Dungeon project is about, read the PDF presentation file located on the root project


## Getting started

### Install the Linked-Data Platform

Before running our main project, we need to setup our Linked-Data environment. First download [Apache Jena Fuseki](https://jena.apache.org/download/index.cgi), a platform provides REST-style interaction with our RDF data defining our dungeon.

Follow the instructions for its installation on a standalone serveur. In the Fuseki repository, you can run by clicking on the executable the server. We will use the default configuration that will run the server on http://localhost:3030/.
Run the server a first time, and try to open on your web browser http://localhost:3030/.

Now the server is on, but we need to add our dataset named `alacDungeon`. Close the server app and copy both configuration and databases folder in `atac_project/AJF_data/` into the directory `/run` of your apache jena fuseki repository.
If you rerun Apache Jena Fuseki, you will see that two datasets were added, with one of them named `alacDungeon`.

To make sure everything works, http://localhost:3030/alacDungeon?graph=room1 to see if we can get access to the data of our first room of the dungeon.

You can also add the dataset manually with the TTL file reprensenting our dungeon in `/graph` (by ensuring adding every triples of a ttl file goes into a named graph of the same name) using the Apache Jena Fuseki UI interface, 

### Install Hypermedea

To install Hypermedea that contains the LinkedDataFuSpider extension our agent needs.

To generate a release from source, clone the source code of the project [hypermedia-JaCaMo](https://gitlab.emse.fr/noe.saffaf/hypermedia-jacamo/) named Hypermedea, and run `gradle install` in the root directory and make sure the project is being properly published to maven local as it will the dependency we will use in our "Crawl into the dungeon project".

You can have a look at how the LinkedDataFuSpider extension works at `examples/ldfu-spider/`.

### Install Crawl Into the Dungeon

Finally, clone this project if not done yet, and run `gradle install` in the root directory, then run the gradle task named `runDungeon`. Again, make sure that the dependency org.hypermedea is being properly installed.


## How to navigate into the dungeon

Running the runDungeon task will launch a JaCaMo application with an "adventurer" agent. JaCaMo will open the MAS console interface where you can see all the running jacamo agent. If you don't much about JaCaMo, I suggest you to read the documentation [here](http://jacamo.sourceforge.net/).
In the UI interface, you can check the current beliefs and intentions an agent has by clicking on `debug` and on the name of the agent. You may see beliefs representing triples like `rdf(_, _, _)` or even derivated properties generated by the LinkedDataFuSpider extension such as `room(room1)`.

Initially, the agent wait action from a source, and the project also has a solution controller agent that communicate withe the adventurer agent and tells him what action he should do in succession. But you also give instruction yourself by first commenting in the jcm file (root repository) the line `agent sol_controller_agent` and instead, after running the app, in the UI interface, go to `New REPL Agent`, give him any name, and in the new console displayed, write an action line like the following:

- `.send(dungeon_adventurer,achieve,investigate)` for investigating a room for items
- `.send(dungeon_adventurer,achieve,take(silverKey))` for taking an item (here the silverKey)
- `.send(dungeon_adventurer,achieve,look_doors)` for looking for all the door disponible in the current room
- `.send(dungeon_adventurer,achieve,move(door1_2))` for moving to a new room through the specified door


## Acknowledgment
Thanks to Victor Charpenay for developping along myself the LinkedDataFuSpider artifact.

## Contact
No√© SAFFAF (said.1997@hotmail.fr)
